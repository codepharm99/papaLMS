# papaLMS ‚Äî LMS –Ω–∞ Next.js 16 + Prisma (PostgreSQL)

papaLMS ‚Äî —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç LMS (–∫–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤ ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞ ‚Üí –º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Üí —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) –Ω–∞ –±–∞–∑–µ Next.js 16 (App Router) —Å TypeScript, Tailwind CSS –∏ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î —á–µ—Ä–µ–∑ Prisma (PostgreSQL). –ï—Å—Ç—å —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (STUDENT/TEACHER/ADMIN), –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cookie, –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å–¥–∞—á–∞ —Ç–µ—Å—Ç–æ–≤.

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—É—é, –ø–æ–Ω—è—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å (–∑–∞–¥–∞–Ω–∏—è/—Å–¥–∞—á–∏, –æ—Ü–µ–Ω–∫–∏, –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –∏ —Ç. –ø.).

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- npm (–∏–ª–∏ pnpm/bun)
- PostgreSQL (–ª–æ–∫–∞–ª—å–Ω–æ/–æ–±–ª–∞–∫–æ). –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prisma Accelerate Postgres URL

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```
cp .env .env.local  # –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DATABASE_URL (Postgres/Prisma Accelerate)
```

2) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ë–î:

```
npm i
# –í–∞—Ä–∏–∞–Ω—Ç –ê: –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç "prisma:migrate"
npm run prisma:migrate    
npm run seed              # –∑–∞–ø–æ–ª–Ω–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (admin/teacher/student, –∫—É—Ä—Å—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
```

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Prisma:

```
npx prisma migrate dev        # –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ prisma/migrations
npx prisma generate           # —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Prisma Client (–æ–±—ã—á–Ω–æ –¥–µ–ª–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
npm run seed
```

3) –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞:

```
npm run dev
# Local: http://localhost:3000
```

–î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã (–ø–æ—Å–ª–µ seed):

- student1 / 1111 ‚Äî STUDENT
- teacher1 / 1111 ‚Äî TEACHER
- admin1 / 1111 ‚Äî ADMIN (—Å–æ–∑–¥–∞—ë—Ç –∫–æ–¥—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π)

---

## üß± –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Next.js 16 (App Router, Turbopack)
- TypeScript
- Tailwind CSS 4 (utility-first)
- Prisma ORM (+ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞)
- PostgreSQL (–∏–ª–∏ Prisma Accelerate Postgres URL)
- bcrypt –¥–ª—è –ø–∞—Ä–æ–ª–µ–π

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã —Å –∫—Ä–∞—Ç–∫–∏–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º.

- src/app/layout.tsx ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π layout —Å <html>/<body>, –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- src/app/page.tsx ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥
- src/app/globals.css ‚Äî –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω—ã, –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏, —Å–ø–µ—Ü. —Ñ–æ–Ω –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞
- src/app/login/page.tsx ‚Äî —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤)
- src/app/catalog/page.tsx ‚Äî –∫–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤ (–ø–æ–∏—Å–∫, ¬´–º–æ–∏ –∫—É—Ä—Å—ã¬ª, –∫–∞—Ä—Ç–æ—á–∫–∏)
- src/app/course/[id]/page.tsx ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞ (–æ–±–∑–æ—Ä, –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- src/app/teacher/courses/page.tsx ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è (—Å–ø–∏—Å–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤)
- src/app/teacher/tools/page.tsx ‚Äî ¬´–ø–ª–∞—à–∫–∏¬ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (—Å–µ–π—á–∞—Å: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- src/app/teacher/tests/page.tsx ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—à–ª—ã—Ö —Ç–µ—Å—Ç–æ–≤ + —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ
- src/app/teacher/tests/[id]/edit/page.tsx ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ—Å—Ç–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤; –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç—É
- src/app/student/tests/page.tsx ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç—É —Ç–µ—Å—Ç–æ–≤
- src/app/student/tests/[aid]/page.tsx ‚Äî –æ–∫–Ω–æ —Å–¥–∞—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (–≤–∞—Ä–∏–∞–Ω—Ç—ã/–æ—Ç–∫—Ä—ã—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã, –æ—Ç–ø—Ä–∞–≤–∫–∞)
- src/app/admin/invites/page.tsx ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–∫–æ–¥—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π)

- src/app/api/** ‚Äî API-—Ä–æ—É—Ç—ã (Next.js App Router):
  - src/app/api/auth/login/route.ts ‚Äî POST /api/auth/login (–ª–æ–≥–∏–Ω, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ cookie)
  - src/app/api/auth/me/route.ts ‚Äî GET /api/auth/me (—Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
  - src/app/api/auth/register/route.ts ‚Äî POST /api/auth/register (—Å—Ç—É–¥–µ–Ω—Ç/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø–æ –∫–æ–¥—É)
  - src/app/api/courses/route.ts ‚Äî GET /api/courses?q=&mine=1 (–∫–∞—Ç–∞–ª–æ–≥)
  - src/app/api/courses/[id]/route.ts ‚Äî GET /api/courses/:id (–¥–µ—Ç–∞–ª–∏ –∫—É—Ä—Å–∞)
  - src/app/api/courses/[id]/enroll/route.ts ‚Äî POST /api/courses/:id/enroll (—Ç–æ–ª—å–∫–æ STUDENT)
  - src/app/api/courses/[id]/materials/route.ts ‚Äî GET/POST –º–∞—Ç–µ—Ä–∏–∞–ª—ã (POST —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä-—É—á–∏—Ç–µ–ª—å)
  - src/app/api/teacher/courses/route.ts ‚Äî GET/POST –∫—É—Ä—Å—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
  - src/app/api/admin/teacher-invites/route.ts ‚Äî GET/POST –∫–æ–¥—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ ADMIN)
  - src/app/api/assignments|submissions|grades|sessions|attendance|announcements ‚Äî –∑–∞–≥–ª—É—à–∫–∏ (TODO)
  - src/app/api/teacher/tests/route.ts ‚Äî GET/POST —Ç–µ—Å—Ç—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
  - src/app/api/teacher/tests/[id]/questions/route.ts ‚Äî GET —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤; POST –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
  - src/app/api/teacher/tests/[id]/questions/[qid]/route.ts ‚Äî PATCH/DELETE –∏–∑–º–µ–Ω–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å
  - src/app/api/teacher/students/route.ts ‚Äî GET —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (–¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
  - src/app/api/teacher/assignments/route.ts ‚Äî POST –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ—Å—Ç —Å—Ç—É–¥–µ–Ω—Ç—É
  - src/app/api/student/tests/route.ts ‚Äî GET –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
  - src/app/api/student/tests/[aid]/route.ts ‚Äî GET –≤–æ–ø—Ä–æ—Å—ã –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
  - src/app/api/student/tests/[aid]/submit/route.ts ‚Äî POST –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç score/total

- src/components/** ‚Äî UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  - src/components/Nav.tsx ‚Äî —à–∞–ø–∫–∞, —Å—Å—ã–ª–∫–∏ –ø–æ —Ä–æ–ª—è–º, –∫–Ω–æ–ø–∫–∞ ¬´–í–æ–π—Ç–∏/–í—ã–π—Ç–∏¬ª
  - src/components/user-context.tsx ‚Äî React-–∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (useCurrentUser)
  - src/components/CourseCard.tsx ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –∫—É—Ä—Å–∞ —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–ø–∏—Å–∞—Ç—å—Å—è/–æ—Ç–ø–∏—Å–∞—Ç—å—Å—è
  - src/components/CourseHeader.tsx ‚Äî —à–∞–ø–∫–∞ –∫—É—Ä—Å–∞ (–¥–µ—Ç–∞–ª–∏ + –∫–Ω–æ–ø–∫–∞ –∑–∞–ø–∏—Å–∏)
  - src/components/Materials.tsx ‚Äî —Å–ø–∏—Å–æ–∫/—Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–¥–ª—è —É—á–∏—Ç–µ–ª—è –∫—É—Ä—Å–∞)
  - src/components/ui/* ‚Äî –Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã UI (input/button/etc.)
  - src/components/Breadcrumbs.tsx ‚Äî –ø—Ä–æ—Å—Ç—ã–µ —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏
  - src/components/FinisherLights.tsx ‚Äî Canvas‚Äë—Ñ–æ–Ω ¬´–ø–ª–∞–≤–Ω—ã–µ –æ–≥–Ω–∏¬ª –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞

- src/lib/** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ö–µ–ª–ø–µ—Ä—ã –∏ ¬´–¥–æ–º–µ–π–Ω¬ª:
  - src/lib/prisma.ts ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ/–∫—ç—à PrismaClient
  - src/lib/mockdb.ts ‚Äî –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫—É—Ä—Å—ã, –∑–∞–ø–∏—Å–∏, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∏–Ω–≤–∞–π—Ç—ã
  - src/lib/auth.ts ‚Äî —Ä–∞–±–æ—Ç–∞ —Å cookie-—Ç–æ–∫–µ–Ω–æ–º –∏ currentUser()
  - src/lib/validators.ts ‚Äî (—á–µ—Ä–Ω–æ–≤–∏–∫) —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Zod –¥–ª—è –±—É–¥—É—â–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - src/lib/utils.ts, src/lib/acl.ts, src/lib/responses.ts ‚Äî —É—Ç–∏–ª–∏—Ç—ã/–∑–∞–≥–æ—Ç–æ–≤–∫–∏

- prisma/** ‚Äî —Å—Ö–µ–º–∞ –∏ —Å–∏–¥—ã –ë–î:
  - prisma/schema.prisma ‚Äî –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (User, Course, Enrollment, Material, TeacherInvite, enum Role)
  - prisma/migrations/** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏
  - prisma/seed.cjs ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫—É—Ä—Å—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ–¥ TEACH-2025)
  - prisma.config.ts ‚Äî –∫–æ–Ω—Ñ–∏–≥ Prisma (engine, –ø—É—Ç—å —Å—Ö–µ–º—ã, seed, datasource.url)

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
  - next.config.mjs ‚Äî —Ñ–∏–∫—Å –∫–æ—Ä–Ω—è –¥–ª—è Turbopack (–≤–∞–∂–Ω–æ –Ω–∞ –º–æ–Ω–æ—Ä–µ–ø–æ/–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—É—Ç—è—Ö)
  - tsconfig.json ‚Äî –∞–ª–∏–∞—Å `@/*` ‚Üí `src/*`, —Å—Ç—Ä–æ–≥–∞—è TS-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - eslint.config.mjs ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ESLint
  - postcss.config.mjs ‚Äî Tailwind 4

---

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Prisma)

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ prisma/schema.prisma. –ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:

- User ‚Äî id, username (unique), password (bcrypt hash), name, role (STUDENT|TEACHER|ADMIN)
- Course ‚Äî id, code (unique), title, orgTag, description?, teacherId ‚Üí User
- Enrollment ‚Äî —Å–≤—è–∑–∫–∞ Student ‚Üî Course (—É–Ω–∏–∫–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞ userId+courseId)
- Material ‚Äî —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∫—É—Ä—Å–∞ (title, description?, url?, createdAt)
- TeacherInvite ‚Äî –∫–æ–¥—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è (unique code, createdBy ‚Üí ADMIN, usedBy?, usedAt?)

–°–≤—è–∑–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ: User.username, Course.code, TeacherInvite.code, Enrollment(userId, courseId)
- –ö–∞—Å–∫–∞–¥ –ª–æ–≥–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (—Å–º. mockdb.ts)

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–æ–ª–∏

- Cookie-—Ç–æ–∫–µ–Ω: —Ö—Ä–∞–Ω–∏—Ç—Å—è id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥ –∫–ª—é—á–æ–º `token` (—Å–º. src/lib/auth.ts)
- currentUser(): –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `await cookies()` (Next 16 –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ API)
- –†–æ–ª–∏:
  - STUDENT ‚Äî –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫—É—Ä—Å—ã, –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
  - TEACHER ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫—É—Ä—Å—ã, –¥–æ–±–∞–≤–ª—è–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω–∞ —Å–≤–æ–∏ –∫—É—Ä—Å—ã
  - ADMIN ‚Äî –≤—ã–ø—É—Å–∫–∞–µ—Ç –∫–æ–¥—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

–ü–æ—Ç–æ–∫–∏:

- –í—Ö–æ–¥: POST /api/auth/login ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å (bcrypt.compare), —Å—Ç–∞–≤–∏—Ç cookie
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: POST /api/auth/register ‚Äî —Å—Ç—É–¥–µ–Ω—Ç –±–µ–∑ –∫–æ–¥–∞, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç inviteCode
- –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: GET /api/auth/me ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç { id, name, role } –∏–ª–∏ null

–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:

- src/app/layout.tsx –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ API –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞—é—Ç currentUser() —Å await
- –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ UserProvider (src/components/user-context.tsx)

---

## üß† –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (src/lib/mockdb.ts)

–°–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–æ–º–µ–Ω–æ–º, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Prisma:

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: findUserByCreds, getUserById, registerStudent, registerTeacher
- –ö—É—Ä—Å—ã: listCourses (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ q/mine), getCourseView, listTeacherCourses, createCourseForTeacher
- –ó–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å: toggleEnroll (—Å—Ç—É–¥–µ–Ω—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è/–æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è)
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã: listMaterials, addMaterial (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä-—É—á–∏—Ç–µ–ª—å –∫—É—Ä—Å–∞)
- –ò–Ω–≤–∞–π—Ç—ã: createTeacherInvite, listTeacherInvites
- –¢–µ—Å—Ç—ã (teacher): listTeacherTests, createTestForTeacher, addQuestionToTest, listQuestionsForTest,
  updateQuestionInTest, deleteQuestionFromTest
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è: listStudents, assignTestToStudent
- –¢–µ—Å—Ç—ã (student): listAssignmentsForStudent, getAssignmentQuestionsForStudent, submitAssignmentAnswers

–û—à–∏–±–∫–∏ –¥–æ–º–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, CODE_CONFLICT, FORBIDDEN) –∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ HTTP —Å—Ç–∞—Ç—É—Å—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ API-—Ä–æ—É—Ç–æ–≤.

---

## üåê API-—Ä–æ—É—Ç—ã (Next.js App Router)

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ:

- POST /api/auth/login ‚Äî –≤—Ö–æ–¥, —Å—Ç–∞–≤–∏—Ç cookie; —Å–º. src/app/api/auth/login/route.ts
- POST /api/auth/register ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è; —Å–º. src/app/api/auth/register/route.ts
- GET /api/auth/me ‚Äî –≤–µ—Ä–Ω—É—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è; —Å–º. src/app/api/auth/me/route.ts

–ö—É—Ä—Å—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

- GET /api/courses?q&mine ‚Äî —Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤; —Å–º. src/app/api/courses/route.ts
- GET /api/courses/:id ‚Äî –¥–µ—Ç–∞–ª–∏ –∫—É—Ä—Å–∞ (–≤ —Ç. —á. –ø—Ä–∏–∑–Ω–∞–∫ –ø–æ–¥–ø–∏—Å–∫–∏); —Å–º. src/app/api/courses/[id]/route.ts
- POST /api/courses/:id/enroll ‚Äî toggle –∑–∞–ø–∏—Å–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞; —Å–º. src/app/api/courses/[id]/enroll/route.ts
- GET /api/courses/:id/materials ‚Äî —Å–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤; POST ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª (—Ç–æ–ª—å–∫–æ —É—á–∏—Ç–µ–ª—å); —Å–º. src/app/api/courses/[id]/materials/route.ts

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–æ–ª–µ–π:

- GET /api/teacher/courses ‚Äî –∫—É—Ä—Å—ã —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
- POST /api/teacher/courses ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å
- GET /api/admin/teacher-invites ‚Äî —Å–ø–∏—Å–æ–∫ –∏–Ω–≤–∞–π—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ ADMIN)
- POST /api/admin/teacher-invites ‚Äî —Å–æ–∑–¥–∞—Ç—å –∏–Ω–≤–∞–π—Ç (—Ç–æ–ª—å–∫–æ ADMIN)

–ó–∞–≥–ª—É—à–∫–∏ (TODO ‚Äî —Å–µ–π—á–∞—Å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –º–æ–¥—É–ª—è '@/lib/data' –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ UI):

- /api/assignments, /api/submissions, /api/grades, /api/sessions, /api/attendance, /api/announcements

---

## üñºÔ∏è UI –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- –ù–∞–≤–∏–≥–∞—Ü–∏—è (src/components/Nav.tsx): —Å—Å—ã–ª–∫–∏ –ø–æ —Ä–æ–ª—è–º, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è; –∫–Ω–æ–ø–∫–∞ ¬´–í–æ–π—Ç–∏/–í—ã–π—Ç–∏¬ª –≤–µ–¥—ë—Ç –Ω–∞ /login. –î–ª—è STUDENT –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–ª–∞—à–∫–∞ ¬´–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª.
- –õ–æ–≥–∏–Ω/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (src/app/login/page.tsx): –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤; –ø—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ redirect –≤ /catalog
- –ö–∞—Ç–∞–ª–æ–≥ (src/app/catalog/page.tsx): –ø–æ–∏—Å–∫ –ø–æ q, —Ñ–∏–ª—å—Ç—Ä ¬´–ú–æ–∏ –∫—É—Ä—Å—ã¬ª (mine=1), –∫–∞—Ä—Ç–æ—á–∫–∏ CourseCard —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–π –∑–∞–ø–∏—Å—å—é
- –ö—É—Ä—Å (src/app/course/[id]/page.tsx): –≤–∫–ª–∞–¥–∫–∏ ¬´–û–±–∑–æ—Ä¬ª –∏ ¬´–ú–∞—Ç–µ—Ä–∏–∞–ª—ã¬ª; Materials —É–º–µ–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∑–∞–ø–∏—Å–∏, –µ—Å–ª–∏ –≤—ã ‚Äî —É—á–∏—Ç–µ–ª—å —ç—Ç–æ–≥–æ –∫—É—Ä—Å–∞
- –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å (src/app/teacher/courses/page.tsx): —Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤ + —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–≤–∞–ª–∏–¥–∞—Ü–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (teacher): —Å–ø–∏—Å–æ–∫/—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤; –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ç–µ—Å—Ç —Å—Ç—É–¥–µ–Ω—Ç—É
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (student): —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –∏ —Å–¥–∞—á–∞ —Ç–µ—Å—Ç–∞, –ø–æ–¥—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –ø–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º)
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (src/app/admin/invites/page.tsx): –≤—ã–¥–∞—á–∞/—Å–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

Tailwind (src/app/globals.css):

- –¶–≤–µ—Ç–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ :root –∏ .dark
- –°–ø–µ—Ü. —Ñ–æ–Ω –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞ ‚Äî –≤–∫–ª—é—á–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª–∞—Å—Å–∞ `login-pattern` –Ω–∞ <html>. –ê–Ω–∏–º–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ Canvas‚Äë–∫–æ–º–ø–æ–Ω–µ–Ω—Ç `FinisherLights` (GPU‚Äë–∫–æ–º–ø–æ–∑–∏—Ü–∏—è, —É–≤–∞–∂–∞–µ—Ç `prefers-reduced-motion`).

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –º–µ–ª–æ—á–∏

- next.config.mjs ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä–µ–Ω—å Turbopack: `turbopack.root = __dirname` (–∞–∫—Ç—É–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤ $HOME/ –ª–µ–∂–∏—Ç —á—É–∂–æ–π package-lock.json –∏ Next –ø—ã—Ç–∞–µ—Ç—Å—è ¬´—É–≥–∞–¥–∞—Ç—å¬ª –∫–æ—Ä–µ–Ω—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- tsconfig.json ‚Äî –∞–ª–∏–∞—Å '@/*' ‚Üí 'src/*'; –Ω–µ –≤–∫–ª—é—á–∞–π—Ç–µ .next/** –≤ include, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö —Ç–∏–ø–æ–≤
- prisma.config.ts ‚Äî `import "dotenv/config"`, engine, –ø—É—Ç—å –∫ —Å—Ö–µ–º–µ –∏ seed, `datasource.url = env("DATABASE_URL")`

---

## üß™ –°–∏–¥–∏–Ω–≥ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ö–æ–º–∞–Ω–¥–∞:

```
npm run seed
```

–°–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (admin1/teacher1/student1 —Å –ø–∞—Ä–æ–ª–µ–º 1111), –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—É—Ä—Å–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –∞ —Ç–∞–∫–∂–µ admin-–∏–Ω–≤–∞–π—Ç TEACH-2025. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: prisma/seed.cjs.

---

## ‚ùóÔ∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏ TODO

- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ DATABASE_URL/–∫–ª—é—á–∏ –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –•—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ .env.local/.env –∏ –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö CI
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã assignments/submissions/grades/sessions/attendance/announcements ‚Äî –∑–∞–≥–ª—É—à–∫–∏; –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ª–æ–≥–∏–∫—É –≤ src/lib/mockdb.ts –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Prisma
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (zod + react-hook-form) –∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—à–∏–±–æ–∫ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ ‚Äî –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è
- –£–∫—Ä–µ–ø–∏—Ç—å UI-—Å–æ—Å—Ç–æ—è–Ω–∏—è (loading/empty/error/skeleton) –≤ –∫–∞–∂–¥–æ–º –º–µ—Å—Ç–µ

---

## üìú –°–∫—Ä–∏–ø—Ç—ã

```
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint",
    "seed": "node prisma/seed.cjs"
  }
}
```

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ —É–¥–æ–±–Ω—ã–µ –∞–ª–∏–∞—Å—ã:

```
"prisma:studio": "prisma studio",
"prisma:migrate": "prisma migrate dev"
```

---

## üó∫Ô∏è Roadmap

- –ó–∞–¥–∞–Ω–∏—è/–°–¥–∞—á–∏: CRUD –∑–∞–¥–∞–Ω–∏–π (teacher), —Å–¥–∞—á–∏ (student), —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
- –û—Ü–µ–Ω–∫–∏: –≤–µ–¥–æ–º–æ—Å—Ç—å (teacher) + ¬´–ú–æ–∏ –æ—Ü–µ–Ω–∫–∏¬ª (student), –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π PATCH
- –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å: —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π, –æ—Ç–º–µ—Ç–∫–∏, —Å–≤–æ–¥—ã
- –†–∞—Å—à–∏—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –ù–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/—Ç–æ—Å—Ç—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ mock-–¥–∞–Ω–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è dev-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (–µ—Å–ª–∏ –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π)


---

## üåø –í–µ—Ç–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–ª–∏–∑—ã (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)

–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è –Ω–∞—Å ‚Äî –ª—ë–≥–∫–∏–π trunk‚Äëbased —Å –∑–∞—â–∏—â—ë–Ω–Ω–æ–π `main` –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏.

- –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏
  - `main` ‚Äî –≤—Å–µ–≥–¥–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–ª–∏–∑—É. –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥ –ø–æ —Ç–µ–≥—É `v*` –∏–ª–∏ –ø–æ merge (–Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ).
  - `staging` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è/—Ä–µ–≥—Ä–µ—Å—Å. –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –≤ —Å—Ç–µ–π–¥–∂–∏–Ω–≥ –ø—Ä–∏ merge.
  - `feature/*` ‚Äî —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –∑–∞–¥–∞—á–∞–º–∏. –ü—Ä–∏–º–µ—Ä—ã: `feat/123-login-bg`, `fix/456-tests-edit`.
  - `hotfix/*` ‚Äî —Å—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å `main` —Å –æ–±—Ä–∞—Ç–Ω—ã–º –º–µ—Ä–¥–∂–µ–º –≤ `staging`/`develop` (–µ—Å–ª–∏ –µ—Å—Ç—å).

- –ó–∞—â–∏—Ç–∞ –≤–µ—Ç–æ–∫ (GitHub ‚Üí Settings ‚Üí Branch protection rules)
  - –ó–∞–ø—Ä–µ—Ç –ø—Ä—è–º—ã—Ö –ø—É—à–µ–π –≤ `main` (–∏ `staging`). –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ PR.
  - –¢—Ä–µ–±–æ–≤–∞—Ç—å 1‚Äì2 review –∏ ¬´Require status checks to pass¬ª.
  - ¬´Require branches to be up to date before merging¬ª –∏ ¬´Require linear history¬ª (squash‚Äëmerge).
  - CODEOWNERS –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π (`prisma/**`, `src/app/api/**`).

- CI‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è PR
  - `npm ci`
  - `npm run lint` (0 warnings), `npm run typecheck` (tsc --noEmit)
  - `npm run build` (Next.js build)
  - Prisma: `npx prisma generate && npx prisma validate && npx prisma migrate status`
  - (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ—Å—Ç—ã) `npm test`

- –î–µ–ø–ª–æ–π/–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä—ã
  - PR ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Preview (Vercel/Render/Netlify) –¥–ª—è —É–¥–æ–±–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∑–∞–π–Ω–∞/UX.
  - Merge –≤ `staging` ‚Üí –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –≤ —Å—Ç–µ–π–¥–∂–∏–Ω–≥‚Äë–æ–∫—Ä—É–∂–µ–Ω–∏–µ (–æ–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞).
  - –¢—ç–≥ `vX.Y.Z` –Ω–∞ `main` ‚Üí –ø—Ä–æ–¥‚Äë–¥–µ–ø–ª–æ–π + GitHub Release.

- –ö–æ–º–º–∏—Ç—ã –∏ —Ä–µ–ª–∏–∑—ã
  - Conventional Commits: `feat: ‚Ä¶`, `fix: ‚Ä¶`, `chore: ‚Ä¶`, `docs: ‚Ä¶`.
  - Squash‚Äëmerge –≤ `main` —Å —á–∏—Å—Ç—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∫–æ–º–º–∏—Ç–æ–≤.
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è CHANGELOG —á–µ—Ä–µ–∑ release‚Äëplease/semantic‚Äërelease (–ø–æ –∂–µ–ª–∞–Ω–∏—é).

- –ü–æ–ª–∏—Ç–∏–∫–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º Prisma
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `prisma/schema.prisma` –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–æ–º–º–∏—Ç–æ–º + –º–∏–≥—Ä–∞—Ü–∏—è –≤ `prisma/migrations/**`.
  - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ review –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ë–î (—á–µ—Ä–µ–∑ CODEOWNERS).

- –§–∏—á–∞‚Äë—Ñ–ª–∞–≥–∏
  - –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ñ–∏—á–∏ –ø—Ä—è—á–µ–º –∑–∞ —Ñ–ª–∞–≥–∞–º–∏ (`NEXT_PUBLIC_FLAGS`/server flags), —á—Ç–æ–±—ã –º—ë—Ä–¥–∂–∏—Ç—å —á–∞—â–µ, –Ω–æ –≤—ã–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ.

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, —á—Ç–æ–±—ã ¬´–Ω–µ —É–±–∏—Ç—å –ø—Ä–æ–µ–∫—Ç¬ª:
- –ù–∏–∫–∞–∫–∏—Ö –ø—Ä—è–º—ã—Ö –ø—É—à–µ–π –≤ `main`.
- –õ—é–±–æ–π PR –∑–µ–ª—ë–Ω—ã–π –ø–æ CI –∏ –∏–º–µ–µ—Ç —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω review.
- –ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π —á–µ–∫‚Äë–ª–∏—Å—Ç: –º–∏–≥—Ä–∞—Ü–∏–∏, –¥–∞–Ω–Ω—ã–µ seed/–º–∏–≥—Ä–∞—Ü–∏–∏ back‚Äëcompat, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã/–≤–∏–¥–µ–æ, —Å—Å—ã–ª–∫–∞ –Ω–∞ Preview.
